"use strict";(self.webpackChunkblog_vuepress_next=self.webpackChunkblog_vuepress_next||[]).push([[1897],{754:(n,s,a)=>{a.r(s),a.d(s,{data:()=>p});const p={key:"v-4363fa56",path:"/docs/javascript/array/usage.html",title:"数组常用方法",lang:"en-US",frontmatter:{title:"数组常用方法",categories:["JavaScript"],tags:["Array"],keywords:"JavaScript,Array",description:"整理日常开发中数组的常用方法",cover:"https://cdn.jsdelivr.net/gh/LeeDebug/PicGo/img/20201111170023.png",date:"2021-11-07T23:52:23.000Z"},excerpt:"",headers:[{level:2,title:"1.1 求和",slug:"_1-1-求和",children:[{level:3,title:"方法一：Array.prototype.forEach()",slug:"方法一-array-prototype-foreach",children:[]},{level:3,title:"方法二：Array.prototype.reduce()",slug:"方法二-array-prototype-reduce",children:[]}]},{level:2,title:"1.2 排序",slug:"_1-2-排序",children:[{level:3,title:"方法一：sort()",slug:"方法一-sort",children:[]},{level:3,title:"方法二：排序算法",slug:"方法二-排序算法",children:[]}]},{level:2,title:"1.3 取最大值",slug:"_1-3-取最大值",children:[{level:3,title:"方法一：Math.max()",slug:"方法一-math-max",children:[]}]},{level:2,title:"1.4 判断是否包含某值",slug:"_1-4-判断是否包含某值",children:[{level:3,title:"方法一：Array.includes()",slug:"方法一-array-includes",children:[]},{level:3,title:"方法二：Array.indexOf()",slug:"方法二-array-indexof",children:[]},{level:3,title:"方法三：Array.find()",slug:"方法三-array-find",children:[]},{level:3,title:"方法四：Array.findIndex()",slug:"方法四-array-findindex",children:[]}]},{level:2,title:"1.5 某一项设置值",slug:"_1-5-某一项设置值",children:[{level:3,title:"方法一：Array.splice()",slug:"方法一-array-splice",children:[]}]},{level:2,title:"1.6 每一项设置值",slug:"_1-6-每一项设置值",children:[{level:3,title:"方法一：Array.fill()",slug:"方法一-array-fill",children:[]},{level:3,title:"方法二：Array.map()",slug:"方法二-array-map",children:[]}]},{level:2,title:"1.7 每一项是否满足",slug:"_1-7-每一项是否满足",children:[{level:3,title:"方法一：Array.every()",slug:"方法一-array-every",children:[]}]},{level:2,title:"1.8 有一项满足",slug:"_1-8-有一项满足",children:[{level:3,title:"方法一：Array.some()",slug:"方法一-array-some",children:[]}]},{level:2,title:"2.1 重写 Array .prototype. at()",slug:"_2-1-重写-array-prototype-at",children:[]},{level:2,title:"2.2 清空数组",slug:"_2-2-清空数组",children:[{level:3,title:"方法一：Array.length",slug:"方法一-array-length",children:[]},{level:3,title:"方法二：Array.splice()",slug:"方法二-array-splice",children:[]},{level:3,title:"方法三：直接赋予新数组[]",slug:"方法三-直接赋予新数组",children:[]}]},{level:2,title:"2.3 扁平化",slug:"_2-3-扁平化",children:[{level:3,title:"方法一：Array.prototype.flat()",slug:"方法一-array-prototype-flat",children:[]},{level:3,title:"方法二：new RegExp()",slug:"方法二-new-regexp",children:[]},{level:3,title:"方法三：Array.prototype.reduce()",slug:"方法三-array-prototype-reduce",children:[]},{level:3,title:"方法四：函数递归",slug:"方法四-函数递归",children:[]},{level:3,title:"方法五：while() + some()",slug:"方法五-while-some",children:[]}]},{level:2,title:"2.4 合并",slug:"_2-4-合并",children:[{level:3,title:"方法一：Array.push()",slug:"方法一-array-push",children:[]},{level:3,title:"方法二：Array.concat()",slug:"方法二-array-concat",children:[]},{level:3,title:"方法二：扩展运算符",slug:"方法二-扩展运算符",children:[]}]},{level:2,title:"2.5 去重",slug:"_2-5-去重",children:[{level:3,title:"方法一：new Set()",slug:"方法一-new-set",children:[]},{level:3,title:"方法二：filter() + indexOf()",slug:"方法二-filter-indexof",children:[]},{level:3,title:"方法三：new Map()",slug:"方法三-new-map",children:[]},{level:3,title:"方法四：includes()",slug:"方法四-includes",children:[]}]},{level:2,title:"2.6 交集",slug:"_2-6-交集",children:[{level:3,title:"方法一：new Set()",slug:"方法一-new-set-1",children:[]}]},{level:2,title:"2.7 删除虚值",slug:"_2-7-删除虚值",children:[{level:3,title:"方法一：Array.prototype.filter()",slug:"方法一-array-prototype-filter",children:[]}]},{level:2,title:"2.8 重组（变量交换）",slug:"_2-8-重组-变量交换",children:[{level:3,title:"方法一：解构赋值",slug:"方法一-解构赋值",children:[]},{level:3,title:"方法二：Array.splice()",slug:"方法二-array-splice-1",children:[]},{level:3,title:"方法三：引入中转变量",slug:"方法三-引入中转变量",children:[]}]},{level:2,title:"2.9 类数组 --\x3e 数组",slug:"_2-9-类数组-数组",children:[{level:3,title:"方法一：Array.prototype.from()",slug:"方法一-array-prototype-from",children:[]},{level:3,title:"方法二：Array.prototype.slice.call()",slug:"方法二-array-prototype-slice-call",children:[]},{level:3,title:"方法三：扩展运算符",slug:"方法三-扩展运算符",children:[]}]},{level:2,title:"2.10 数组 --\x3e 对象",slug:"_2-10-数组-对象",children:[{level:3,title:"方法一：扩展运算符",slug:"方法一-扩展运算符",children:[]},{level:3,title:"方法二：while()",slug:"方法二-while",children:[]},{level:3,title:"方法三：Object.fromEntries()",slug:"方法三-object-fromentries",children:[]}]},{level:2,title:"2.11 浅拷贝",slug:"_2-11-浅拷贝",children:[{level:3,title:"方法一：Array.slice()",slug:"方法一-array-slice",children:[]},{level:3,title:"方法二：展开操作符",slug:"方法二-展开操作符",children:[]},{level:3,title:"方法三：Array.concat()",slug:"方法三-array-concat",children:[]},{level:3,title:"方法四：直接赋值",slug:"方法四-直接赋值",children:[]}]},{level:2,title:"2.12 Array.from 达到 .map 的效果",slug:"_2-12-array-from-达到-map-的效果",children:[]},{level:2,title:"2.13 获取最后 n 个元素",slug:"_2-13-获取最后-n-个元素",children:[{level:3,title:"方法一：Array.splice()",slug:"方法一-array-splice-1",children:[]}]},{level:2,title:"2.233 二维数组绘制图形",slug:"_2-233-二维数组绘制图形",children:[{level:3,title:"方法一：Emmm",slug:"方法一-emmm",children:[]}]},{level:2,title:"优化一：优化 for 循环",slug:"优化一-优化-for-循环",children:[{level:3,title:"a. 减少每次取length的次数",slug:"a-减少每次取length的次数",children:[]},{level:3,title:"b. 倒序循环",slug:"b-倒序循环",children:[]}]},{level:2,title:"优化二：不要使用 for-in 来遍历数组",slug:"优化二-不要使用-for-in-来遍历数组",children:[]},{level:2,title:"优化三：慎用基于函数的迭代",slug:"优化三-慎用基于函数的迭代",children:[]},{level:2,title:"优化四：尽量使用 switch-case 条件语句",slug:"优化四-尽量使用-switch-case-条件语句",children:[]},{level:2,title:"优化五：查找表",slug:"优化五-查找表",children:[]},{level:2,title:"箭头函数的输出",slug:"箭头函数的输出",children:[]}],git:{createdTime:1637766986e3,updatedTime:1637766986e3,contributors:[{name:"licc",email:"961150665@qq.com",commits:1}]}}},7766:(n,s,a)=>{a.r(s),a.d(s,{default:()=>i});var p=a(6252);const t=(0,p.uE)('<blockquote><p>考虑到日常开发中使用比较频繁，为了方便查找与回顾，整理此文。</p></blockquote><p>[TOC]</p><h1 id="基础篇" tabindex="-1"><a class="header-anchor" href="#基础篇" aria-hidden="true">#</a> 基础篇</h1><table><thead><tr><th>方法</th><th>描述</th></tr></thead><tbody><tr><td>concat()</td><td>连接两个或多个数组，并返回已连接数组的副本。</td></tr><tr><td>copyWithin()</td><td>将数组中的数组元素复制到指定位置或从指定位置复制。</td></tr><tr><td>entries()</td><td>返回键/值对数组迭代对象。</td></tr><tr><td>every()</td><td>检查数组中的每个元素是否通过测试。</td></tr><tr><td>fill()</td><td>用静态值填充数组中的元素。</td></tr><tr><td>filter()</td><td>使用数组中通过测试的每个元素创建新数组。</td></tr><tr><td>find()</td><td>返回数组中第一个通过测试的元素的值。</td></tr><tr><td>findIndex()</td><td>返回数组中通过测试的第一个元素的索引。</td></tr><tr><td>forEach()</td><td>为每个数组元素调用函数。</td></tr><tr><td>from()</td><td>从对象创建数组。</td></tr><tr><td>includes()</td><td>检查数组是否包含指定的元素。</td></tr><tr><td>indexOf()</td><td>在数组中搜索元素并返回其位置。</td></tr><tr><td>isArray()</td><td>检查对象是否为数组。</td></tr><tr><td>join()</td><td>将数组的所有元素连接成一个字符串。</td></tr><tr><td>keys()</td><td>返回 Array Iteration 对象，包含原始数组的键.</td></tr><tr><td>lastIndexOf()</td><td>在数组中搜索元素，从末尾开始，并返回其位置。</td></tr><tr><td>map()</td><td>使用为每个数组元素调用函数的结果创建新数组。</td></tr><tr><td>pop()</td><td>删除数组的最后一个元素，并返回该元素。</td></tr><tr><td>push()</td><td>将新元素添加到数组的末尾，并返回新的长度。</td></tr><tr><td>reduce()</td><td>将数组的值减为单个值（从左到右）。</td></tr><tr><td>reduceRight()</td><td>将数组的值减为单个值（从右到左）。</td></tr><tr><td>reverse()</td><td>反转数组中元素的顺序。</td></tr><tr><td>shift()</td><td>删除数组的第一个元素，并返回该元素。</td></tr><tr><td>slice()</td><td>选择数组的一部分，并返回新数组。</td></tr><tr><td>some()</td><td>检查数组中的任何元素是否通过测试。</td></tr><tr><td>sort()</td><td>对数组的元素进行排序。</td></tr><tr><td>splice()</td><td>从数组中添加/删除元素。</td></tr><tr><td>toString()</td><td>将数组转换为字符串，并返回结果。</td></tr><tr><td>unshift()</td><td>将新元素添加到数组的开头，并返回新的长度。</td></tr><tr><td>valueOf()</td><td>返回数组的原始值。</td></tr><tr><td>at()</td><td>2021.1新提案，解决方括号的限制，可以输入负数。</td></tr></tbody></table><h2 id="_1-1-求和" tabindex="-1"><a class="header-anchor" href="#_1-1-求和" aria-hidden="true">#</a> 1.1 求和</h2><h3 id="方法一-array-prototype-foreach" tabindex="-1"><a class="header-anchor" href="#方法一-array-prototype-foreach" aria-hidden="true">#</a> 方法一：Array.prototype.forEach()</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>\n<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  total <span class="token operator">+=</span> num<span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="方法二-array-prototype-reduce" tabindex="-1"><a class="header-anchor" href="#方法二-array-prototype-reduce" aria-hidden="true">#</a> 方法二：Array.prototype.reduce()</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> total <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">sum<span class="token punctuation">,</span> current</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> sum <span class="token operator">+</span> current<span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_1-2-排序" tabindex="-1"><a class="header-anchor" href="#_1-2-排序" aria-hidden="true">#</a> 1.2 排序</h2><h3 id="方法一-sort" tabindex="-1"><a class="header-anchor" href="#方法一-sort" aria-hidden="true">#</a> 方法一：sort()</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 默认是升序</span>\n<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a <span class="token operator">-</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [1, 2, 3, 4]</span>\n<span class="token comment">// 降序</span>\n<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> b <span class="token operator">-</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [4, 3, 2, 1]</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="方法二-排序算法" tabindex="-1"><a class="header-anchor" href="#方法二-排序算法" aria-hidden="true">#</a> 方法二：排序算法</h3><p><img src="https://gblobscdn.gitbook.com/assets%2F-Lm9JtwbhXVOfXyecToy%2F-Lm9KQIJAMvCgJQzErQS%2F-Lm9KSPi7v-ygMtlI6Zr%2Fsort.png?alt=media" alt="排序算法对比"></p><p>参考文献</p>',15),e={href:"https://sort.hust.cc/",target:"_blank",rel:"noopener noreferrer"},c=(0,p.Uk)("十大经典排序算法 - Git Book"),o={href:"https://juejin.cn/post/6844903902484103182#heading-5",target:"_blank",rel:"noopener noreferrer"},l=(0,p.Uk)("JavaScript 数据结构与算法之美 - 十大经典排序算法 - 天明夜尽"),r=(0,p.uE)('<h2 id="_1-3-取最大值" tabindex="-1"><a class="header-anchor" href="#_1-3-取最大值" aria-hidden="true">#</a> 1.3 取最大值</h2><h3 id="方法一-math-max" tabindex="-1"><a class="header-anchor" href="#方法一-math-max" aria-hidden="true">#</a> 方法一：Math.max()</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// -Infinity，即 -∞</span>\n\nMath<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">Infinity</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">Infinity</span><span class="token punctuation">)</span> <span class="token comment">// Infinity，即 ∞</span>\n\nMath<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 4</span>\n\nMath<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 4</span>\n\n<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token parameter">prev<span class="token punctuation">,</span> cur<span class="token punctuation">,</span>curIndex<span class="token punctuation">,</span>arr</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>prev<span class="token punctuation">,</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// 4</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="_1-4-判断是否包含某值" tabindex="-1"><a class="header-anchor" href="#_1-4-判断是否包含某值" aria-hidden="true">#</a> 1.4 判断是否包含某值</h2><h3 id="方法一-array-includes" tabindex="-1"><a class="header-anchor" href="#方法一-array-includes" aria-hidden="true">#</a> 方法一：Array.includes()</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token comment">// false</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="方法二-array-indexof" tabindex="-1"><a class="header-anchor" href="#方法二-array-indexof" aria-hidden="true">#</a> 方法二：Array.indexOf()</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token comment">// -1 如果存在返回索引</span>\n<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span> <span class="token comment">// 2</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="方法三-array-find" tabindex="-1"><a class="header-anchor" href="#方法三-array-find" aria-hidden="true">#</a> 方法三：Array.find()</h3><p>如果数组中无值返回undefined</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token comment">// undefined</span>\n<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item <span class="token operator">===</span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token comment">// 9</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="方法四-array-findindex" tabindex="-1"><a class="header-anchor" href="#方法四-array-findindex" aria-hidden="true">#</a> 方法四：Array.findIndex()</h3><p>如果数组中无值返回-1</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> item <span class="token operator">===</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token comment">// -1</span>\n<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> item <span class="token operator">===</span> <span class="token number">9</span><span class="token punctuation">)</span> <span class="token comment">// 2</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_1-5-某一项设置值" tabindex="-1"><a class="header-anchor" href="#_1-5-某一项设置值" aria-hidden="true">#</a> 1.5 某一项设置值</h2><h3 id="方法一-array-splice" tabindex="-1"><a class="header-anchor" href="#方法一-array-splice" aria-hidden="true">#</a> 方法一：Array.splice()</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;aaa&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;bbbb&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;cccc&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;dddd&#39;</span><span class="token punctuation">]</span>\narr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>\narr <span class="token comment">// [&#39;aaa&#39;, &#39;bbbb&#39;, &#39;cccc&#39;, 3, &#39;dddd&#39;]</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_1-6-每一项设置值" tabindex="-1"><a class="header-anchor" href="#_1-6-每一项设置值" aria-hidden="true">#</a> 1.6 每一项设置值</h2><h3 id="方法一-array-fill" tabindex="-1"><a class="header-anchor" href="#方法一-array-fill" aria-hidden="true">#</a> 方法一：Array.fill()</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// [undefined, undefined, undefined, undefined, undefined, undefined]</span>\n<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span> <span class="token comment">// [7, 7, 7, 7, 7, 7]</span>\n<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token comment">// [7, 8, 3, 3, 11, 12]</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="方法二-array-map" tabindex="-1"><a class="header-anchor" href="#方法二-array-map" aria-hidden="true">#</a> 方法二：Array.map()</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> idx</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item <span class="token operator">%</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// [1, 0, 1]</span>\n<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> idx</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> idx<span class="token punctuation">)</span> <span class="token comment">// [0, 1, 2]</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_1-7-每一项是否满足" tabindex="-1"><a class="header-anchor" href="#_1-7-每一项是否满足" aria-hidden="true">#</a> 1.7 每一项是否满足</h2><h3 id="方法一-array-every" tabindex="-1"><a class="header-anchor" href="#方法一-array-every" aria-hidden="true">#</a> 方法一：Array.every()</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token keyword">return</span> item<span class="token operator">&gt;</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//false</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="_1-8-有一项满足" tabindex="-1"><a class="header-anchor" href="#_1-8-有一项满足" aria-hidden="true">#</a> 1.8 有一项满足</h2><h3 id="方法一-array-some" tabindex="-1"><a class="header-anchor" href="#方法一-array-some" aria-hidden="true">#</a> 方法一：Array.some()</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token keyword">return</span> item<span class="token operator">&gt;</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//true</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h1 id="贰。番外篇" tabindex="-1"><a class="header-anchor" href="#贰。番外篇" aria-hidden="true">#</a> 贰。番外篇</h1><h2 id="_2-1-重写-array-prototype-at" tabindex="-1"><a class="header-anchor" href="#_2-1-重写-array-prototype-at" aria-hidden="true">#</a> 2.1 重写 Array .prototype. at()</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 兼容老浏览器的 MDN polyfill</span>\n<span class="token comment">// 注释：Polyfill 是一块代码（通常是 Web 上的 JavaScript），用来为旧浏览器提供它没有原生支持的较新的功能。</span>\n<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>at<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">at</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">idx</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>length <span class="token operator">+</span> idx<span class="token punctuation">]</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\narr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;aaa&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;bbbb&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;cccc&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;dddd&#39;</span><span class="token punctuation">]</span>\narr<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// &#39;dddd&#39;</span>\narr<span class="token punctuation">.</span><span class="token function">at</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// &#39;bbbb&#39;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="_2-2-清空数组" tabindex="-1"><a class="header-anchor" href="#_2-2-清空数组" aria-hidden="true">#</a> 2.2 清空数组</h2><h3 id="方法一-array-length" tabindex="-1"><a class="header-anchor" href="#方法一-array-length" aria-hidden="true">#</a> 方法一：Array.length</h3><p>最快</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;aaa&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;bbbb&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;cccc&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;dddd&#39;</span><span class="token punctuation">]</span>\narr1 <span class="token operator">=</span> arr\narr <span class="token comment">// [&#39;aaa&#39;, &#39;bbbb&#39;, &#39;cccc&#39;, &#39;dddd&#39;]</span>\narr1 <span class="token comment">// [&#39;aaa&#39;, &#39;bbbb&#39;, &#39;cccc&#39;, &#39;dddd&#39;]</span>\n\narr<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span> <span class="token comment">// 0</span>\n\narr <span class="token comment">// []</span>\n<span class="token comment">// 被引用的数组，也会被清空</span>\narr1 <span class="token comment">// []</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="方法二-array-splice" tabindex="-1"><a class="header-anchor" href="#方法二-array-splice" aria-hidden="true">#</a> 方法二：Array.splice()</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;aaa&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;bbbb&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;cccc&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;dddd&#39;</span><span class="token punctuation">]</span>\narr1 <span class="token operator">=</span> arr\n\narr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;aaa&#39;, &#39;bbbb&#39;, &#39;cccc&#39;, &#39;dddd&#39;]</span>\n\narr <span class="token comment">// []</span>\n<span class="token comment">// 同上，被引用的也会被清空</span>\narr1 <span class="token comment">// []</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="方法三-直接赋予新数组" tabindex="-1"><a class="header-anchor" href="#方法三-直接赋予新数组" aria-hidden="true">#</a> 方法三：直接赋予新数组[]</h3><p>最慢，且占用内存</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;aaa&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;bbbb&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;cccc&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;dddd&#39;</span><span class="token punctuation">]</span>\narr1 <span class="token operator">=</span> arr\n\narr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">// []</span>\n\narr <span class="token comment">// []</span>\n<span class="token comment">// 被引用的数组，不会被清空</span>\narr1 <span class="token comment">// [&#39;aaa&#39;, &#39;bbbb&#39;, &#39;cccc&#39;, &#39;dddd&#39;]</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="_2-3-扁平化" tabindex="-1"><a class="header-anchor" href="#_2-3-扁平化" aria-hidden="true">#</a> 2.3 扁平化</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token comment">// =&gt; [1, 2, 3, 4, 5, 6]</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="方法一-array-prototype-flat" tabindex="-1"><a class="header-anchor" href="#方法一-array-prototype-flat" aria-hidden="true">#</a> 方法一：Array.prototype.flat()</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> res1 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span><span class="token number">Infinity</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h3 id="方法二-new-regexp" tabindex="-1"><a class="header-anchor" href="#方法二-new-regexp" aria-hidden="true">#</a> 方法二：new RegExp()</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 缺点：都会变成字符串</span>\n<span class="token keyword">const</span> res2 <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\[|\\]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;,&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">// 改良版</span>\n<span class="token keyword">const</span> res3 <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&#39;[&#39;</span> <span class="token operator">+</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\[|\\]</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#39;]&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="方法三-array-prototype-reduce" tabindex="-1"><a class="header-anchor" href="#方法三-array-prototype-reduce" aria-hidden="true">#</a> 方法三：Array.prototype.reduce()</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">flatten</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pre<span class="token punctuation">,</span> cur</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> pre<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">flatten</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span> <span class="token operator">:</span> cur<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">const</span> res4 <span class="token operator">=</span> <span class="token function">flatten</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="方法四-函数递归" tabindex="-1"><a class="header-anchor" href="#方法四-函数递归" aria-hidden="true">#</a> 方法四：函数递归</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> res5 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      <span class="token function">fn</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>\n      res5<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n<span class="token function">fn</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="方法五-while-some" tabindex="-1"><a class="header-anchor" href="#方法五-while-some" aria-hidden="true">#</a> 方法五：while() + some()</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">flatten</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">while</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token operator">=&gt;</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n        arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token operator">...</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token keyword">return</span> arr<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_2-4-合并" tabindex="-1"><a class="header-anchor" href="#_2-4-合并" aria-hidden="true">#</a> 2.4 合并</h2><h3 id="方法一-array-push" tabindex="-1"><a class="header-anchor" href="#方法一-array-push" aria-hidden="true">#</a> 方法一：Array.push()</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;aaa&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;bbbb&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;cccc&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;dddd&#39;</span><span class="token punctuation">]</span>\narr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 8</span>\narr <span class="token comment">// [&#39;aaa&#39;, &#39;bbbb&#39;, &#39;cccc&#39;, &#39;dddd&#39;, 1, 2, 3, Array(3)]</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="方法二-array-concat" tabindex="-1"><a class="header-anchor" href="#方法二-array-concat" aria-hidden="true">#</a> 方法二：Array.concat()</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>arr<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;aaa&#39;, &#39;bbbb&#39;, &#39;cccc&#39;, &#39;dddd&#39;, 1, 2, 3, 4, 5, 6]</span>\narr <span class="token comment">// [&#39;aaa&#39;, &#39;bbbb&#39;, &#39;cccc&#39;, &#39;dddd&#39;]</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="方法二-扩展运算符" tabindex="-1"><a class="header-anchor" href="#方法二-扩展运算符" aria-hidden="true">#</a> 方法二：扩展运算符</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token operator">...</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token comment">//[1,2,3,4,5,6]</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="_2-5-去重" tabindex="-1"><a class="header-anchor" href="#_2-5-去重" aria-hidden="true">#</a> 2.5 去重</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;1&#39;</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token string">&#39;true&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;a&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token comment">// =&gt; [1, &#39;1&#39;, 17, true, false, &#39;true&#39;, &#39;a&#39;, {}, {}]</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="方法一-new-set" tabindex="-1"><a class="header-anchor" href="#方法一-new-set" aria-hidden="true">#</a> 方法一：new Set()</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> arr1 <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">// 或</span>\n<span class="token keyword">const</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token comment">// 是 Set 类型，不是 Array 类型</span>\n<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// &#39;[object Set]&#39;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="方法二-filter-indexof" tabindex="-1"><a class="header-anchor" href="#方法二-filter-indexof" aria-hidden="true">#</a> 方法二：filter() + indexOf()</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">arr2</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">===</span> index<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="方法三-new-map" tabindex="-1"><a class="header-anchor" href="#方法三-new-map" aria-hidden="true">#</a> 方法三：new Map()</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">arr3</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>map<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>\n      res<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">return</span> res<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="方法四-includes" tabindex="-1"><a class="header-anchor" href="#方法四-includes" aria-hidden="true">#</a> 方法四：includes()</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">arr4</span> <span class="token operator">=</span> <span class="token parameter">arr</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>res<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> res<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n  <span class="token keyword">return</span> res<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="_2-6-交集" tabindex="-1"><a class="header-anchor" href="#_2-6-交集" aria-hidden="true">#</a> 2.6 交集</h2><h3 id="方法一-new-set-1" tabindex="-1"><a class="header-anchor" href="#方法一-new-set-1" aria-hidden="true">#</a> 方法一：new Set()</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> one <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span>\n<span class="token keyword">const</span> two <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">]</span>\n<span class="token keyword">const</span> duplicated <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>one<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> two<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [2, 4, 6]</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_2-7-删除虚值" tabindex="-1"><a class="header-anchor" href="#_2-7-删除虚值" aria-hidden="true">#</a> 2.7 删除虚值</h2><h3 id="方法一-array-prototype-filter" tabindex="-1"><a class="header-anchor" href="#方法一-array-prototype-filter" aria-hidden="true">#</a> 方法一：Array.prototype.filter()</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&#39;blue&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token number">NaN</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token string">&#39;while&#39;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">]</span>\n<span class="token keyword">const</span> real <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>Boolean<span class="token punctuation">)</span> <span class="token comment">// [&#39;blue&#39;, 9, true, &#39;while&#39;]</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_2-8-重组-变量交换" tabindex="-1"><a class="header-anchor" href="#_2-8-重组-变量交换" aria-hidden="true">#</a> 2.8 重组（变量交换）</h2><h3 id="方法一-解构赋值" tabindex="-1"><a class="header-anchor" href="#方法一-解构赋值" aria-hidden="true">#</a> 方法一：解构赋值</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;aaa&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;bbbb&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;cccc&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;dddd&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;eee&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;fff&#39;</span><span class="token punctuation">]</span>\n<span class="token punctuation">[</span>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token comment">// [&#39;cccc&#39;, &#39;bbbb&#39;]</span>\narr <span class="token comment">// [&#39;aaa&#39;, &#39;cccc&#39;, &#39;bbbb&#39;, &#39;dddd&#39;]</span>\n\n<span class="token comment">// 如果想获取单个值</span>\n<span class="token punctuation">[</span>a<span class="token punctuation">,</span> <span class="token punctuation">,</span> <span class="token punctuation">,</span> e<span class="token punctuation">,</span> f<span class="token punctuation">]</span> <span class="token operator">=</span> arr\na <span class="token comment">// &#39;aaa&#39;</span>\ne <span class="token comment">// &#39;dddd&#39;</span>\nf <span class="token comment">// &#39;eee&#39;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="方法二-array-splice-1" tabindex="-1"><a class="header-anchor" href="#方法二-array-splice-1" aria-hidden="true">#</a> 方法二：Array.splice()</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;aaa&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;bbbb&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;cccc&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;dddd&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;eee&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;fff&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;ggg&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;hhh&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;iii&#39;</span><span class="token punctuation">]</span>\narr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">...</span>arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> arr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;bbbb&#39;, &#39;cccc&#39;, &#39;dddd&#39;]</span>\narr <span class="token comment">// [&#39;aaa&#39;, &#39;eee&#39;, &#39;fff&#39;, &#39;ggg&#39;, &#39;hhh&#39;, &#39;bbbb&#39;, &#39;cccc&#39;, &#39;dddd&#39;, &#39;iii&#39;]</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="方法三-引入中转变量" tabindex="-1"><a class="header-anchor" href="#方法三-引入中转变量" aria-hidden="true">#</a> 方法三：引入中转变量</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>temp <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>\narr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>\narr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> temp\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_2-9-类数组-数组" tabindex="-1"><a class="header-anchor" href="#_2-9-类数组-数组" aria-hidden="true">#</a> 2.9 类数组 --&gt; 数组</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 类数组（包含 length 属性，比如 arguments、DOM 操作方法返回的结果等）</span>\n<span class="token keyword">const</span> asArr <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">0</span><span class="token operator">:</span> <span class="token string">&#39;aaa&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;1&#39;</span><span class="token operator">:</span> <span class="token string">&#39;bbb&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;二&#39;</span><span class="token operator">:</span> <span class="token string">&#39;ccc&#39;</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token operator">:</span> <span class="token string">&#39;eee&#39;</span><span class="token punctuation">,</span> length<span class="token operator">:</span> <span class="token number">6</span> <span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="方法一-array-prototype-from" tabindex="-1"><a class="header-anchor" href="#方法一-array-prototype-from" aria-hidden="true">#</a> 方法一：Array.prototype.from()</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>asArr<span class="token punctuation">)</span>\n<span class="token comment">// =&gt; [&#39;aaa&#39;, &#39;bbb&#39;, undefined, undefined, &#39;eee&#39;, undefined]</span>\n<span class="token comment">// undefined 可枚举</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="方法二-array-prototype-slice-call" tabindex="-1"><a class="header-anchor" href="#方法二-array-prototype-slice-call" aria-hidden="true">#</a> 方法二：Array.prototype.slice.call()</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>asArr<span class="token punctuation">)</span>\n<span class="token comment">// =&gt; [&#39;aaa&#39;, &#39;bbb&#39;, empty × 2, &#39;eee&#39;, empty]</span>\n<span class="token comment">// empty 不可枚举</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>PS：其他产生 empty 的情况</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 也会产生 empty 空位，不会改变 length 属性</span>\n<span class="token keyword">delete</span> arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span>\n<span class="token comment">// 直接删掉元素，且改变 length 属性</span>\narr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="方法三-扩展运算符" tabindex="-1"><a class="header-anchor" href="#方法三-扩展运算符" aria-hidden="true">#</a> 方法三：扩展运算符</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">[</span><span class="token operator">...</span>document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h2 id="_2-10-数组-对象" tabindex="-1"><a class="header-anchor" href="#_2-10-数组-对象" aria-hidden="true">#</a> 2.10 数组 --&gt; 对象</h2><h3 id="方法一-扩展运算符" tabindex="-1"><a class="header-anchor" href="#方法一-扩展运算符" aria-hidden="true">#</a> 方法一：扩展运算符</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;aaa&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;bbbb&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;cccc&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;dddd&#39;</span><span class="token punctuation">]</span>\n<span class="token comment">// [&#39;aaa&#39;, &#39;bbbb&#39;, &#39;cccc&#39;, &#39;dddd&#39;]</span>\n<span class="token punctuation">{</span> <span class="token operator">...</span>arr <span class="token punctuation">}</span>\n<span class="token comment">// {0: &#39;aaa&#39;, 1: &#39;bbbb&#39;, 2: &#39;cccc&#39;, 3: &#39;dddd&#39;}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="方法二-while" tabindex="-1"><a class="header-anchor" href="#方法二-while" aria-hidden="true">#</a> 方法二：while()</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>i <span class="token operator">=</span> <span class="token number">0</span>\ns <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>\narr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;aaa&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;bbbb&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;cccc&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;dddd&#39;</span><span class="token punctuation">]</span>\n\n<span class="token keyword">while</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n\ns <span class="token comment">// {0: &#39;aaa&#39;, 1: &#39;bbbb&#39;, 2: &#39;cccc&#39;, 3: &#39;dddd&#39;}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="方法三-object-fromentries" tabindex="-1"><a class="header-anchor" href="#方法三-object-fromentries" aria-hidden="true">#</a> 方法三：Object.fromEntries()</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">14</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;name&#39;,&#39;age&#39;]</span>\nObject<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">14</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;张三&#39;,14]</span>\nObject<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token punctuation">{</span>name<span class="token operator">:</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token number">14</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// [[name,&#39;张三&#39;],[age,14]]</span>\nObject<span class="token punctuation">.</span><span class="token function">fromEntries</span><span class="token punctuation">(</span><span class="token punctuation">[</span>name<span class="token punctuation">,</span><span class="token string">&#39;张三&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span>age<span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// ES10的api,Chrome不支持, firebox输出{name:&#39;张三&#39;,age:14}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_2-11-浅拷贝" tabindex="-1"><a class="header-anchor" href="#_2-11-浅拷贝" aria-hidden="true">#</a> 2.11 浅拷贝</h2><h3 id="方法一-array-slice" tabindex="-1"><a class="header-anchor" href="#方法一-array-slice" aria-hidden="true">#</a> 方法一：Array.slice()</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;aaa&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;bbbb&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;cccc&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;dddd&#39;</span><span class="token punctuation">]</span>\narr1 <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>\narr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2333</span> <span class="token comment">// 2333</span>\narr <span class="token comment">// [&#39;aaa&#39;, 2333, &#39;cccc&#39;, &#39;dddd&#39;]</span>\narr1 <span class="token comment">// [&#39;aaa&#39;, &#39;bbbb&#39;, &#39;cccc&#39;, &#39;dddd&#39;]</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="方法二-展开操作符" tabindex="-1"><a class="header-anchor" href="#方法二-展开操作符" aria-hidden="true">#</a> 方法二：展开操作符</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;aaa&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;bbbb&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;cccc&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;dddd&#39;</span><span class="token punctuation">]</span>\narr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arr<span class="token punctuation">]</span>\narr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2333</span> <span class="token comment">// 2333</span>\narr <span class="token comment">// [&#39;aaa&#39;, 2333, &#39;cccc&#39;, &#39;dddd&#39;]</span>\narr1 <span class="token comment">// [&#39;aaa&#39;, &#39;bbbb&#39;, &#39;cccc&#39;, &#39;dddd&#39;]</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="方法三-array-concat" tabindex="-1"><a class="header-anchor" href="#方法三-array-concat" aria-hidden="true">#</a> 方法三：Array.concat()</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;aaa&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;bbbb&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;cccc&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;dddd&#39;</span><span class="token punctuation">]</span>\narr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>array<span class="token punctuation">)</span>\narr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2333</span> <span class="token comment">// 2333</span>\narr <span class="token comment">// [&#39;aaa&#39;, 2333, &#39;cccc&#39;, &#39;dddd&#39;]</span>\narr1 <span class="token comment">// [&#39;aaa&#39;, &#39;bbbb&#39;, &#39;cccc&#39;, &#39;dddd&#39;]</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="方法四-直接赋值" tabindex="-1"><a class="header-anchor" href="#方法四-直接赋值" aria-hidden="true">#</a> 方法四：直接赋值</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;aaa&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;bbbb&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;cccc&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;dddd&#39;</span><span class="token punctuation">]</span>\narr1 <span class="token operator">=</span> arr\narr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2333</span> <span class="token comment">// 2333</span>\narr <span class="token comment">// [&#39;aaa&#39;, 2333, &#39;cccc&#39;, &#39;dddd&#39;]</span>\narr1 <span class="token comment">// [&#39;aaa&#39;, 2333, &#39;cccc&#39;, &#39;dddd&#39;]</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_2-12-array-from-达到-map-的效果" tabindex="-1"><a class="header-anchor" href="#_2-12-array-from-达到-map-的效果" aria-hidden="true">#</a> 2.12 Array.from 达到 .map 的效果</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>arr <span class="token operator">=</span> <span class="token punctuation">[</span>\n    <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;张三&#39;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;李四&#39;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;王麻子&#39;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&#39;小六&#39;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">]</span>\nnameMap <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">v</span> <span class="token operator">=&gt;</span> v<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// [&#39;张三&#39;, &#39;李四&#39;, &#39;王麻子&#39;, &#39;小六&#39;]</span>\nnameMap <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>name<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> name<span class="token punctuation">)</span> <span class="token comment">// [&#39;张三&#39;, &#39;李四&#39;, &#39;王麻子&#39;, &#39;小六&#39;]</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="_2-13-获取最后-n-个元素" tabindex="-1"><a class="header-anchor" href="#_2-13-获取最后-n-个元素" aria-hidden="true">#</a> 2.13 获取最后 n 个元素</h2><h3 id="方法一-array-splice-1" tabindex="-1"><a class="header-anchor" href="#方法一-array-splice-1" aria-hidden="true">#</a> 方法一：Array.splice()</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;aaa&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;bbbb&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;cccc&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;dddd&#39;</span><span class="token punctuation">]</span>\n\narr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// [&#39;dddd&#39;]</span>\narr<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// &#39;bbbb&#39;, &#39;cccc&#39;, &#39;dddd&#39;</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_2-233-二维数组绘制图形" tabindex="-1"><a class="header-anchor" href="#_2-233-二维数组绘制图形" aria-hidden="true">#</a> <s>2.233 二维数组绘制图形</s></h2><h3 id="方法一-emmm" tabindex="-1"><a class="header-anchor" href="#方法一-emmm" aria-hidden="true">#</a> 方法一：Emmm</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// Emmmm</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><h1 id="弎。循环的性能与小优化" tabindex="-1"><a class="header-anchor" href="#弎。循环的性能与小优化" aria-hidden="true">#</a> 弎。循环的性能与小优化</h1><h2 id="优化一-优化-for-循环" tabindex="-1"><a class="header-anchor" href="#优化一-优化-for-循环" aria-hidden="true">#</a> 优化一：优化 for 循环</h2><ul><li>当循环复杂度为 <code>O(n)</code> 时，<code>减少每次迭代的工作量</code>是最有效的方法。</li><li>当复杂度大于 <code>O(n)</code> 时，建议着重<code>减少迭代次数</code>。</li></ul><h3 id="a-减少每次取length的次数" tabindex="-1"><a class="header-anchor" href="#a-减少每次取length的次数" aria-hidden="true">#</a> a. 减少每次取length的次数</h3><p>这样避免了每次执行循环都要先去找array.length</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token comment">// 0 1 2</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// 优化后</span>\n<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token comment">// 0 1 2</span>\n    <span class="token comment">// do sth...</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="b-倒序循环" tabindex="-1"><a class="header-anchor" href="#b-倒序循环" aria-hidden="true">#</a> b. 倒序循环</h3><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token comment">// 3 2 1</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// 优化后</span>\n<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> array<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token comment">// 2 1 0</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// 优化后</span>\n<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> array<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token comment">// 2 1 0</span>\n    <span class="token comment">// do sth...</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="优化二-不要使用-for-in-来遍历数组" tabindex="-1"><a class="header-anchor" href="#优化二-不要使用-for-in-来遍历数组" aria-hidden="true">#</a> 优化二：不要使用 for-in 来遍历数组</h2><p>在JavaScript提供的循环类型中，只有for-in循环比其他几种明显要慢。</p><p>由于每次迭代操作会同时搜索实例或原型属性，for-in循环的每次迭代都会产生更多开销，所以比其他循环类型要慢。</p><p>因此，除非你明确需要迭代一个属性数量未知的对象，否则应避免使用for-in循环。</p><h2 id="优化三-慎用基于函数的迭代" tabindex="-1"><a class="header-anchor" href="#优化三-慎用基于函数的迭代" aria-hidden="true">#</a> 优化三：慎用基于函数的迭代</h2><p>例如：forEach</p><p>基于函数的迭代提供了一个更为便利的迭代方法，但它仍然比基于循环的迭代<code>要慢一些</code>。<code>对每个数组调用外部方法所带来的开销</code>是速度慢的主要原因。在所有情况下，基于循环的迭代比基于函数的迭代快<code>8倍</code>，因此在运行速度要求严格时，基于函数的迭代不是更好的选择。</p><h2 id="优化四-尽量使用-switch-case-条件语句" tabindex="-1"><a class="header-anchor" href="#优化四-尽量使用-switch-case-条件语句" aria-hidden="true">#</a> 优化四：尽量使用 switch-case 条件语句</h2><p>除非在<code>非真既假</code>的判断中，其余条件判断时多用 switch-case 语句，少用 if/else-if/else 语句。原因如下：</p><ul><li>支持关联操作，即不写 break 语句</li><li>本质是汇编时生成的跳转表来指示 case 的地址，所以每一个 case 的执行时间基本是相同的，执行效率不会受先后顺序的影响</li><li>代码更清晰，可读性和可维护性要高很多</li></ul><h2 id="优化五-查找表" tabindex="-1"><a class="header-anchor" href="#优化五-查找表" aria-hidden="true">#</a> 优化五：查找表</h2><p>当有大量离散数据的时候，使用查找表比使用if-else和switch-case快得多。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 将返回值集合存入数组</span>\n<span class="token keyword">const</span> results <span class="token operator">=</span> <span class="token punctuation">[</span>result0<span class="token punctuation">,</span> result1<span class="token punctuation">,</span> result2<span class="token punctuation">,</span> result3<span class="token punctuation">,</span> result4<span class="token punctuation">]</span>\n\n<span class="token comment">// 返回结果</span>\n<span class="token keyword">return</span> results<span class="token punctuation">[</span>value<span class="token punctuation">]</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h1 id="肆。课外题" tabindex="-1"><a class="header-anchor" href="#肆。课外题" aria-hidden="true">#</a> 肆。课外题</h1><h2 id="箭头函数的输出" tabindex="-1"><a class="header-anchor" href="#箭头函数的输出" aria-hidden="true">#</a> 箭头函数的输出</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token function-variable function">func1</span> <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token operator">=&gt;</span> x\n<span class="token function">func1</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// 2</span>\n<span class="token keyword">var</span> <span class="token function-variable function">func2</span> <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>x<span class="token punctuation">}</span>\n<span class="token function">func2</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// undefined</span>\n<span class="token keyword">var</span> <span class="token function-variable function">func3</span> <span class="token operator">=</span> <span class="token parameter">x</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>x<span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token function">func3</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// {x: undefined}</span>\n<span class="token function">func3</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// {x: 2}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h1 id="终。祝君无bug" tabindex="-1"><a class="header-anchor" href="#终。祝君无bug" aria-hidden="true">#</a> 终。祝君无Bug~</h1>',141),u={},i=(0,a(3744).Z)(u,[["render",function(n,s){const a=(0,p.up)("OutboundLink");return(0,p.wg)(),(0,p.iD)(p.HY,null,[t,(0,p._)("ul",null,[(0,p._)("li",null,[(0,p._)("a",e,[c,(0,p.Wm)(a)])]),(0,p._)("li",null,[(0,p._)("a",o,[l,(0,p.Wm)(a)])])]),r],64)}]])}}]);